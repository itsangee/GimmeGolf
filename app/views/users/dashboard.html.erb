<div class="main-dashboard-container">

  <div class="d-flex justify-content-center align-items-center bg-white">
    <div class="pt-3 pb-3">
      <h1 class="text-center me-3">Your Dashboard</h1>
      <p class="text-center mt-3"><small><%= @user.email %></small></p>
    </div>
  </div>

<div>
<div data-controller="show-bookings" class="d-flex flex-column align-items-center justify-content-center dashboard-show-bookings">
  <div>
    <ul class="nav justify-content-center">
      <li class="nav-item">
        <a class="nav-link active dashboard-cursor " aria-current="page" id="today"
        data-action="click->show-bookings#showContent">| Today's Bookings |</a>
      </li>
      <li class="nav-item">
        <a class="nav-link dashboard-cursor " id="past"
        data-action="click->show-bookings#showContent">| Past Bookings |</a>
      </li>
      <li class="nav-item">
        <a class="nav-link dashboard-cursor " id="future"
        data-action="click->show-bookings#showContent">| Future Bookings |</a>
      </li>
    </ul>
  </div>

  <div class="dashboard-bookings">

    <div >
      <div class="d-none future" data-show-bookings-target="bookings">
        <% if @future_bookings.any? %>
          <% @future_bookings.each do |booking| %>
            <ul>
              <li>
                <p class="mt-3 pt-3 pb-3 text-center"><%= link_to booking.slot.course.name, course_path(booking.slot.course)%>, <%= "#{booking.date.strftime("%d/%m/%Y")}, #{booking.slot.start_time.strftime("%I:%M %p")}" %></p>
              </li>
              <hr>
            </ul>
          <% end %>
        <% else %>
          <p class="mt-3 ms-3 text-center pt-3 pb-3">No bookings</p>
        <% end %>
      </div>
    </div>


    <div>
      <div class="d-none past" data-show-bookings-target="bookings">
        <% if @past_bookings.any? %>
          <% @past_bookings.each do |booking| %>
            <ul>
              <li><p class="mt-3 text-center pt-3 pb-3"><%= link_to booking.slot.course.name, course_path(booking.slot.course)%>, <%= "#{booking.date.strftime("%d/%m/%Y")}, #{booking.slot.start_time.strftime("%I:%M %p")}" %></p></li>
              <hr>
            </ul>
          <% end %>
        <% else %>
          <p class="mt-3 ms-3 pt-3 pb-3 text-center">No bookings</p>
        <% end %>
      </div>
    </div>


    <div>
      <div class="today" data-show-bookings-target="bookings">
        <% if @todays_bookings.any? %>
          <% @todays_bookings.each do |booking| %>
            <ul>
              <li><p class="mt-3 text-center pt-3 pb-3"><%= link_to booking.slot.course.name, course_path(booking.slot.course)%>, <%= "#{booking.date.strftime("%d/%m/%Y")}, #{booking.slot.start_time.strftime("%I:%M %p")}" %></p></li>
              <hr>
            </ul>
          <% end %>
        <% else %>
          <p class="mt-3 ms-3 text-center pt-3 pb-3">No bookings</p>
        <% end %>
      </div>
    </div>
  </div>
 </div>
</div>


  <div data-controller="dashboard-show-friends"
  class="dashboard-socials d-flex flex-column justify-content-center align-items-center mt-5 pt-3">

  <h2 class="text-white">Your Golfing Friends</h2>

    <%# <div class="d-flex justify-content-center">
      <div class="me-2">
        <ul class="list-group">
          <h5 class="dashboard-social-follows py-3 px-5 text-center"</h5>
          data-action="click->dashboard-show-friends#showFollowees">Following: <%= @user.following.count %>
          <%# <% @user.following.each do |followee| %>
            <%# <div class="d-none" data-dashboard-show-friends-target="followees"> %>
              <%# <li class="list-group-item"><%= link_to followee.email, user_path(followee)  %>
            <%# </div> %>
          <%# <% end %>
        <%# </ul> %>
      <%# </div> %>


      <%# <div class="ms-2"> %>
        <%# <ul class="list-group"> %>
          <%# <h5 class="dashboard-social-follows py-3 px-5 text-center"</h5>
          <%# data-action="click->dashboard-show-friends#showFollowers">Followers: <%= @user.followers.count %>
          <%# <% @user.followers.each do |follower| %>
            <%# <div class="d-none" data-dashboard-show-friends-target="followers"> %>
              <%# <li class="list-group-item"><%= link_to follower.email, user_path(follower)  %>
            <%# </div> %>
          <%# <% end %>
        <%# </ul> %>
      <%# </div> %>
    <%# </div> %>
  <%# </div> %>

<div class="modal-stuff pt-5 pb-5 ">
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary dashboard-modal-button" data-bs-toggle="modal" data-bs-target="#followersModal">
    Followers: <%= @user.followers.count %>
  </button>

  <!-- Modal -->
  <div class="modal fade" id="followersModal" tabindex="-1" aria-labelledby="followersModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="followersModalLabel">Followers</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <% @user.followers.each do |follower| %>
              <div >
                <li class="list-group-item"><%= link_to follower.email, user_path(follower)  %></li>
              </div>
            <% end %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <%# <button type="button" class="btn btn-primary">Save changes</button> %>
        </div>
      </div>
    </div>
  </div>



<button type="button" class="btn btn-primary dashboard-modal-button" data-bs-toggle="modal" data-bs-target="#followingModal">
  Following: <%= @user.following.count %>
</button>

<div class="modal fade" id="followingModal" tabindex="-1" aria-labelledby="followingModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="followingModalLabel">Following</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <% @user.following.each do |followee| %>
            <div>
              <li class="list-group-item"><%= link_to followee.email, user_path(followee)  %></li>
            </div>
          <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <%# <button type="button" class="btn btn-primary">Save changes</button> %>
      </div>
    </div>
  </div>
</div>
</div>

</div>
</div>

</div>
